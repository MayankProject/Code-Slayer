"use client";
import createArena from "@/actions/create-arena";
import Container from "./Container";
import { toast } from "react-toastify";
import { useRouter } from "next/navigation";

export default function Home() {
	const router = useRouter();
	const handleArenaCreation = () => toast.promise(async () => {
		const token = await createArena();
		router.push(`/arena/${token}`);
	}, {
		pending: "Creating Arena...",
		success: "Created! Redirecting...",
		error: "Oopsie Daisy! Something went wrong...",
	});
	return (
		<div className="p-3 h-1 w-full min-h-screen">
			<div className="h-full flex flex-col gap-4 justify-center items-center" >
				<div className="flex gap-2 w-full h-full jusitfy-center" >
					<div className="flex flex-col gap-2 justify-center w-full items-center" >
						<div>
							<h1 className="my-2 text-5xl font-bold text-white">Code Slayer</h1>
							<div className="text-gray-400 text-xl ">LeetCode But Multiplayer ( Sort of ) </div>
							<hr className="my-5" />
							<ol className="text-xl">
								<li> - Create an Arena ðŸŽ®</li>
								<li> - Gather some friends ðŸ‘¥ <span className="text-sm"> ( Bold of me to assume you have any ) </span></li>
								<li> -  Start the battle! ðŸ’ª</li>
							</ol>
						</div>
					</div>
					<div className="partition h-full w-1 border-white border-l" />
					<div className="w-full flex flex-col p-6 items-center justify-center">
						<div className="text-2xl border-b border-white w-full p-2" >
							<input type="text" className="w-full outline-none bg-transparent" />
						</div>
						< div className="flex gap-2 w-full rounded-md" >
							<button
								onClick={handleArenaCreation}
								className={`relative bg-[#FFFFFF1A] transition-200 my-2 px-4 py-3 rounded-lg  text-gray-400 flex-1`
								}>
								Create Arena
							</button>
							< button
								className={`relative bg-[#2CBB5D] transition-200 my-2 px-4 py-3 rounded-lg  text-white flex-1`}>
								Join Arena
							</button>
						</div>

					</div>
				</div>
			</div>

		</div>
	);
}
